(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2454],{830:(e,t,l)=>{Promise.resolve().then(l.bind(l,1851))},1851:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>x});var a=l(5155),s=l(2115),n=l(5695),r=l(9376),i=l(6224),u=l(7850),c=l(4435),d=l(6766);let o=["月曜","火曜","水曜","木曜","金曜","土曜","日曜"];function x(){let e=(0,n.useRouter)(),t=(0,r.A)(e=>e.pendingStore),l=(0,r.A)(e=>e.setPendingStore),[x,g]=(0,s.useState)(""),[y,j]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[k,N]=(0,s.useState)(""),[S,_]=(0,s.useState)(""),[w,C]=(0,s.useState)(Array(7).fill("")),[E,V]=(0,s.useState)(Array(7).fill("")),[F,O]=(0,s.useState)(""),[R,A]=(0,s.useState)(""),[D,L]=(0,s.useState)([]),[P,U]=(0,s.useState)(""),[z,I]=(0,s.useState)(""),[M,Y]=(0,s.useState)(null),[q,Q]=(0,s.useState)("");(0,s.useEffect)(()=>{if(t&&(g(t.name||""),j(t.genre||""),v(t.area||""),N(t.address||""),_(t.phone||""),O(t.website_url||""),A(t.instagram_url||""),L(t.payment_methods||[]),U(t.description||""),I(t.image_url||""),Y(t.image_file||null),t.opening_hours)){let e=t.opening_hours.split("\n"),l=[],a=[];e.forEach(e=>{let t=o.find(t=>e.startsWith(t));if(t){let s=e.replace(t,"").trim();if("休み"===s)l.push("休み"),a.push("");else{let[e,t]=s.split("〜");l.push(e||""),a.push(t||"")}}}),C(l),V(a)}},[t]);let W=e=>{let t=[...w],l=[...E];t[e]="休み",l[e]="",C(t),V(l)},B=e=>{let t=[...w],l=[...E];t[e]="",l[e]="",C(t),V(l)};return(0,a.jsxs)("div",{className:"min-h-screen bg-[#FEFCF6] pt-24 px-10 pb-10 text-gray-800",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center mb-8",children:"店舗登録フォーム"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m,{label:"店舗名 (必須)",value:x,setValue:g}),(0,a.jsx)(h,{label:"ジャンル (必須)",options:i.D,selected:y,setSelected:j}),(0,a.jsx)(h,{label:"エリア (必須)",options:u.x,selected:f,setSelected:v}),(0,a.jsx)(m,{label:"住所 (必須)",value:k,setValue:N}),(0,a.jsx)(m,{label:"電話番号",value:S,setValue:_}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"営業時間"}),o.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-12",children:e}),"休み"===w[t]?(0,a.jsxs)("div",{className:"text-red-500 flex items-center",children:["休み",(0,a.jsx)("button",{type:"button",onClick:()=>B(t),className:"ml-2 text-sm text-blue-600 underline",children:"クリア"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"text",value:w[t],onChange:e=>{let l=[...w];l[t]=e.target.value,C(l)},className:"border p-2 rounded w-20",placeholder:"18:00"}),(0,a.jsx)("span",{children:"〜"}),(0,a.jsx)("input",{type:"text",value:E[t],onChange:e=>{let l=[...E];l[t]=e.target.value,V(l)},className:"border p-2 rounded w-20",placeholder:"28:00"}),(0,a.jsx)("button",{type:"button",onClick:()=>W(t),className:"ml-2 text-sm text-blue-600 underline",children:"休み"})]})]},t))]}),(0,a.jsx)(b,{label:"支払い方法",options:c.Y,selected:D,setSelected:L}),(0,a.jsx)(m,{label:"公式サイトURL",value:F,setValue:O}),(0,a.jsx)(m,{label:"InstagramアカウントURL",value:R,setValue:A}),(0,a.jsx)(p,{label:"店舗説明 (必須)",value:P,setValue:U}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"店舗画像（任意）"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];l&&(I(URL.createObjectURL(l)),Y(l))},className:"w-full border rounded p-2 bg-white"}),z&&(0,a.jsx)("div",{className:"relative w-64 h-40 mx-auto mt-4",children:(0,a.jsx)(d.default,{src:z,alt:"店舗画像プレビュー",fill:!0,className:"object-contain rounded"})})]}),q&&(0,a.jsx)("p",{className:"text-red-500 text-center",children:q}),(0,a.jsx)("div",{className:"space-y-4 mt-8",children:(0,a.jsx)("button",{onClick:()=>{if(!x||!y||!f||!k||!P)return void Q("必須項目をすべて入力してください。");l({name:x,genre:y,area:f,address:k,phone:S,opening_hours:w.map((e,t)=>{let l=E[t];return"休み"!==e&&e&&l?"".concat(o[t]," ").concat(e,"〜").concat(l):"".concat(o[t]," 休み")}).join("\n"),regular_holiday:"",website_url:F,instagram_url:R,payment_methods:D,description:P,image_url:z,image_file:M}),e.push("/register/confirm")},className:"w-full bg-[#1F1F21] text-white rounded p-3 hover:bg-[#333]",children:"確認画面に進む"})})]})]})}function m(e){let{label:t,value:l,setValue:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:t}),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>s(e.target.value),className:"w-full border p-2 rounded"})]})}function p(e){let{label:t,value:l,setValue:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:t}),(0,a.jsx)("textarea",{value:l,onChange:e=>s(e.target.value),className:"w-full border p-2 rounded",rows:5})]})}function h(e){let{label:t,options:l,selected:s,setSelected:n}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:t}),(0,a.jsx)("div",{className:"flex flex-wrap gap-4",children:l.map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:t,value:e.key,checked:s===e.key,onChange:e=>n(e.target.value)}),e.label]},e.key))})]})}function b(e){let{label:t,options:l,selected:s,setSelected:n}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:t}),(0,a.jsx)("div",{className:"flex flex-wrap gap-4",children:l.map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",value:e.key,checked:s.includes(e.key),onChange:t=>{n(t.target.checked?[...s,e.key]:s.filter(t=>t!==e.key))}}),e.label]},e.key))})]})}},4435:(e,t,l)=>{"use strict";l.d(t,{Y:()=>a});let a=[{key:"cash",label:"現金"},{key:"credit",label:"クレジットカード"},{key:"e_money",label:"電子マネー"},{key:"qr",label:"QRコード決済"},{key:"other",label:"その他"}]},5453:(e,t,l)=>{"use strict";l.d(t,{v:()=>u});var a=l(2115);let s=e=>{let t,l=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),l.forEach(l=>l(t,e))}},s=()=>t,n={setState:a,getState:s,getInitialState:()=>r,subscribe:e=>(l.add(e),()=>l.delete(e))},r=t=e(a,s,n);return n},n=e=>e?s(e):s,r=e=>e,i=e=>{let t=n(e),l=e=>(function(e,t=r){let l=a.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return a.useDebugValue(l),l})(t,e);return Object.assign(l,t),l},u=e=>e?i(e):i},6224:(e,t,l)=>{"use strict";l.d(t,{D:()=>a});let a=[{key:"EDM",label:"EDM"},{key:"house",label:"ハウス"},{key:"techno",label:"テクノ"},{key:"hiphop",label:"ヒップホップ"},{key:"jazz",label:"ジャズ"},{key:"other",label:"その他"}]},7850:(e,t,l)=>{"use strict";l.d(t,{x:()=>a});let a=[{key:"shibuya",label:"渋谷"},{key:"shinjuku",label:"新宿"},{key:"roppongi",label:"六本木"},{key:"ginza",label:"銀座"},{key:"ikebukuro",label:"池袋"},{key:"omotesando",label:"表参道"},{key:"ueno",label:"上野"},{key:"yokohama",label:"横浜"}]},9376:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(5453);let s={name:"",genre:"",area:"",address:"",phone:"",opening_hours:"",regular_holiday:"",website_url:"",instagram_url:"",payment_methods:[],description:"",image_url:"",image_file:null,submitted_by_email:null},n=(0,a.v)(e=>({pendingStore:s,setPendingStore:t=>e(e=>({pendingStore:{...e.pendingStore,...t}})),resetPendingStore:()=>e(()=>({pendingStore:s}))}))}},e=>{var t=t=>e(e.s=t);e.O(0,[4212,8441,1684,7358],()=>t(830)),_N_E=e.O()}]);