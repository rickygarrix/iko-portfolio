(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3539],{215:(e,s,t)=>{Promise.resolve().then(t.bind(t,7132))},3168:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});let r=(0,t(851).UU)("https://bqexmwjcmtyypzucndrb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxZXhtd2pjbXR5eXB6dWNuZHJiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA2MjA5NjQsImV4cCI6MjA1NjE5Njk2NH0.LgmwOIcW4UsTqwigP7BgXBrQmtSah362_dsWqjecTQQ")},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"notFound")&&t.d(s,{notFound:function(){return r.notFound}}),t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},7132:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(5155),a=t(2115),n=t(5695),c=t(3168);function i(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(!0),d=(0,n.useRouter)();return((0,a.useEffect)(()=>{(async()=>{let{data:{user:e}}=await c.N.auth.getUser();if(!e){alert("ログインが必要です"),d.push("/login");return}if("chloerickyc@gmail.com"!==e.email){alert("アクセス権限がありません"),d.push("/");return}})()},[d]),(0,a.useEffect)(()=>{(async()=>{let{data:e,error:t}=await c.N.from("stores").select("id, name, genre").eq("is_published",!1).eq("is_deleted",!1);t?console.error("取得エラー:",t):s(e||[]),i(!1)})()},[]),t)?(0,r.jsx)("div",{className:"text-center p-10 text-gray-800",children:"読み込み中..."}):(0,r.jsxs)("div",{className:"min-h-screen bg-[#FEFCF6] pt-24 px-10 pb-10 text-gray-800",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"未公開店舗一覧"}),0===e.length?(0,r.jsx)("p",{className:"text-center text-gray-500 mb-10",children:"未公開の店舗はありません。"}):(0,r.jsx)("div",{className:"overflow-x-auto mb-10",children:(0,r.jsxs)("table",{className:"min-w-full bg-white rounded shadow",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100 text-gray-700",children:[(0,r.jsx)("th",{className:"py-2 px-4 border",children:"店名"}),(0,r.jsx)("th",{className:"py-2 px-4 border",children:"ジャンル"}),(0,r.jsx)("th",{className:"py-2 px-4 border",children:"操作"})]})}),(0,r.jsx)("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{className:"text-center",children:[(0,r.jsx)("td",{className:"py-2 px-4 border",children:e.name}),(0,r.jsx)("td",{className:"py-2 px-4 border",children:e.genre}),(0,r.jsx)("td",{className:"py-2 px-4 border",children:(0,r.jsx)("button",{className:"bg-blue-500 text-white font-semibold rounded px-3 py-1 hover:bg-blue-600",onClick:()=>d.push("/admin/stores-to-publish/".concat(e.id)),children:"詳細確認"})})]},e.id))})]})}),(0,r.jsx)("div",{className:"flex justify-center mt-6",children:(0,r.jsx)("button",{onClick:()=>d.push("/admin"),className:"bg-gray-600 text-white py-2 px-6 rounded hover:bg-gray-700",children:"管理画面トップに戻る"})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[851,8441,1684,7358],()=>s(215)),_N_E=e.O()}]);