(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9455],{795:(e,s,l)=>{Promise.resolve().then(l.bind(l,7756))},3168:(e,s,l)=>{"use strict";l.d(s,{N:()=>a});let a=(0,l(851).UU)("https://bqexmwjcmtyypzucndrb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxZXhtd2pjbXR5eXB6dWNuZHJiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA2MjA5NjQsImV4cCI6MjA1NjE5Njk2NH0.LgmwOIcW4UsTqwigP7BgXBrQmtSah362_dsWqjecTQQ")},7756:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>d});var a=l(5155),t=l(2115),r=l(5695),i=l(3168),n=l(6766);function d(){var e,s;let l=(0,r.useRouter)(),d=null!=(s=null==(e=(0,r.useParams)())?void 0:e.id)?s:"",[u,o]=(0,t.useState)(null),[x,m]=(0,t.useState)(!0),[h,b]=(0,t.useState)("");(0,t.useEffect)(()=>{d&&(async()=>{let{data:e,error:s}=await i.N.from("stores").select("*").eq("id",d).single();s||!e?(console.error("取得エラー:",s),b("データ取得に失敗しました")):o(e),m(!1)})()},[d]);let p=async()=>{if(!window.confirm("この店舗を承認して公開待ちにしますか？")||!u)return;let{error:e}=await i.N.from("stores").update({is_pending:!1,is_published:!1}).eq("id",u.id);if(e){alert("承認に失敗しました"),console.error(e.message);return}alert("承認しました！"),l.push("/admin/pending-stores")},j=async()=>{if(!u||!window.confirm("この店舗を削除しますか？"))return;let{error:e}=await i.N.from("stores").update({is_deleted:!0}).eq("id",u.id);if(e){alert("削除に失敗しました"),console.error(e.message);return}alert("削除しました！"),l.push("/admin/pending-stores")};return x?(0,a.jsx)("div",{className:"text-center p-10",children:"読み込み中..."}):h?(0,a.jsx)("div",{className:"text-center text-red-500 p-10",children:h}):u?(0,a.jsxs)("div",{className:"min-h-screen bg-[#FEFCF6] pt-24 px-6 pb-10 text-gray-800",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center mb-8",children:"店舗詳細"}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,a.jsx)(c,{label:"店舗名",value:u.name}),(0,a.jsx)(c,{label:"ジャンル",value:u.genre}),(0,a.jsx)(c,{label:"エリア",value:u.area}),(0,a.jsx)(c,{label:"住所",value:u.address}),(0,a.jsx)(c,{label:"電話番号",value:u.phone_number}),(0,a.jsx)(c,{label:"営業時間",value:u.opening_hours,isMultiline:!0}),(0,a.jsx)(c,{label:"定休日",value:u.regular_holiday}),(0,a.jsx)(c,{label:"公式サイト",value:u.website,isLink:!0}),(0,a.jsx)(c,{label:"Instagramアカウント",value:u.instagram,isLink:!0}),(0,a.jsx)(c,{label:"支払い方法",value:u.payment_methods}),(0,a.jsx)(c,{label:"店舗説明",value:u.description,isMultiline:!0}),u.image_url&&(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(n.default,{src:u.image_url,alt:"店舗画像",width:400,height:300,className:"rounded shadow"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-10",children:[(0,a.jsx)("button",{onClick:p,className:"bg-green-500 text-white py-2 px-6 rounded hover:bg-green-600",children:"承認する"}),(0,a.jsx)("button",{onClick:j,className:"bg-red-500 text-white py-2 px-6 rounded hover:bg-red-600",children:"削除する"}),(0,a.jsx)("button",{onClick:()=>l.back(),className:"bg-gray-500 text-white py-2 px-6 rounded hover:bg-gray-600",children:"一覧に戻る"})]})]})]}):null}function c(e){let{label:s,value:l,isLink:t,isMultiline:r}=e;return l?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:s}),t?(0,a.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline break-words",children:l}):(0,a.jsx)("p",{className:"text-lg ".concat(r?"whitespace-pre-line":"break-words"),children:l})]}):null}}},e=>{var s=s=>e(e.s=s);e.O(0,[851,4212,8441,1684,7358],()=>s(795)),_N_E=e.O()}]);