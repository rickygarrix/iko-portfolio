(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[918],{177:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(5155),l=a(5561);function r(){return(0,s.jsx)(l.P.div,{className:"fixed inset-0 z-[9999] bg-white/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}})}},4906:(e,t,a)=>{Promise.resolve().then(a.bind(a,8856))},5922:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(5155),l=a(6874),r=a.n(l),i=a(6766);function n(e){let{locale:t,messages:a}=e;return(0,s.jsx)("footer",{className:"w-full bg-[#1F1F21] border-t border-b border-gray-800 flex justify-center",children:(0,s.jsxs)("div",{className:"w-full max-w-[1400px] px-4 py-8 flex flex-col justify-start items-center gap-4",children:[(0,s.jsx)(r(),{href:"/".concat(t),passHref:!0,children:(0,s.jsx)("div",{className:"w-16 h-5 relative",children:(0,s.jsx)(i.default,{src:"/footer/logo.svg",alt:"オトナビ ロゴ",fill:!0,className:"object-contain",priority:!0})})}),(0,s.jsxs)("div",{className:"w-full flex justify-center items-start flex-wrap gap-2",children:[(0,s.jsx)(r(),{href:"/".concat(t,"/search"),className:"px-4 py-2",children:(0,s.jsx)("div",{className:"text-white text-sm font-light leading-tight",children:a.search})}),(0,s.jsx)(r(),{href:"/map",className:"px-4 py-2",children:(0,s.jsx)("div",{className:"text-white text-sm font-light leading-tight",children:a.map})}),(0,s.jsx)(r(),{href:"/contact",className:"px-4 py-2",children:(0,s.jsx)("div",{className:"text-white text-sm font-light leading-tight",children:a.contact})})]}),(0,s.jsxs)("div",{className:"w-full flex justify-center items-start flex-wrap gap-2",children:[(0,s.jsx)(r(),{href:"/terms",className:"px-4 py-2",children:(0,s.jsx)("div",{className:"text-white text-xs font-light leading-none",children:a.terms})}),(0,s.jsx)(r(),{href:"/privacy",className:"px-4 py-2",children:(0,s.jsx)("div",{className:"text-white text-xs font-light leading-none",children:a.privacy})})]}),(0,s.jsx)("div",{className:"text-white text-xs font-light leading-none",children:a.copyright})]})})}},7864:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var s=a(5155),l=a(5695),r=a(2115),i=a(6766),n=a(6874),o=a.n(n),d=a(3168),c=a(2108),u=a(177);function m(e){let{locale:t,messages:a}=e,n=(0,l.usePathname)(),m=(0,l.useRouter)(),{data:x}=(0,c.useSession)(),[h,v]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),[f,j]=(0,r.useState)(void 0),[_,b]=(0,r.useState)(!1),N=(0,r.useRef)(null),y=(null==n?void 0:n.startsWith("/ja"))?"ja":(null==n?void 0:n.startsWith("/en"))?"en":(null==n?void 0:n.startsWith("/zh"))?"zh":(null==n?void 0:n.startsWith("/ko"))?"ko":"ja",w=t||y;(0,r.useEffect)(()=>{(async()=>{var e,t,a,s,l,r;let{data:i}=await d.N.auth.getSession();if(!i.session){j(null),g(null);return}let{data:n}=await d.N.auth.getUser(),o=null==n||null==(e=n.user)?void 0:e.id;if(!o)return j(null);j(o);let{data:c}=await d.N.from("user_profiles").select("avatar_url").eq("id",o).single();(null==c?void 0:c.avatar_url)?g(c.avatar_url):g(null!=(r=null!=(l=null==n||null==(a=n.user)||null==(t=a.user_metadata)?void 0:t.avatar_url)?l:null==x||null==(s=x.user)?void 0:s.image)?r:null)})()},[x]),(0,r.useEffect)(()=>{let e=e=>{N.current&&!N.current.contains(e.target)&&b(!1)};return _&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[_]);let k=(0,r.useCallback)(()=>{let e="ja"===w?"/ja":"/".concat(w);n!==e?(document.body.style.opacity="0",setTimeout(()=>{m.push(e),document.body.style.opacity="1"},0)):window.scrollTo({top:0,behavior:"smooth"})},[n,m,w]),C=(0,r.useCallback)(()=>{let e="/".concat(w,"/search");n===e?window.scrollTo({top:0,behavior:"smooth"}):(v(!0),setTimeout(()=>{m.push(e),v(!1)},100))},[n,m,w]),S=(0,r.useCallback)(async()=>{if("ja"!==w)return;sessionStorage.removeItem("mapCenter"),sessionStorage.removeItem("mapZoom"),sessionStorage.removeItem("activeStoreId"),sessionStorage.removeItem("cardScrollLeft");let e="/map";n===e?window.scrollTo({top:0,behavior:"smooth"}):(v(!0),await m.push(e),v(!1))},[n,m,w]);return(0,s.jsxs)(s.Fragment,{children:[h&&(0,s.jsx)(u.A,{}),(0,s.jsx)("header",{className:"fixed top-0 left-0 h-[48px] z-[1000] w-full bg-white shadow-[0_0_4px_0_rgba(0,0,0,0.1)] flex justify-center",children:(0,s.jsxs)("div",{className:"w-full max-w-[600px] px-4 h-[48px] flex justify-between items-center",children:[(0,s.jsx)("div",{onClick:k,className:"w-20 h-6 relative cursor-pointer transition-transform duration-200 hover:scale-105 active:scale-95",children:(0,s.jsx)(i.default,{src:"/header/logo.svg",alt:"Logo",width:80,height:24,priority:!0})}),(0,s.jsxs)("div",{className:"flex items-center gap-3 min-w-[180px] justify-end",children:[(0,s.jsxs)(o(),{href:"/posts",className:"w-12 h-12 flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"w-6 h-6 relative",children:(0,s.jsx)(i.default,{src:"/header/Vector.svg",alt:"投稿",fill:!0,className:"object-contain"})}),(0,s.jsx)("span",{className:"text-[10px] text-zinc-900",children:"投稿"})]}),(0,s.jsxs)("button",{onClick:C,className:"w-12 h-12 flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"w-6 h-6 relative",children:(0,s.jsx)(i.default,{src:"/header/search.svg",alt:a.search,fill:!0,className:"object-contain"})}),(0,s.jsx)("span",{className:"text-[10px] text-zinc-900",children:a.search})]}),(0,s.jsxs)("div",{onClick:S,className:"w-12 h-12 flex flex-col items-center justify-center ".concat("ja"===w?"hover:scale-105 active:scale-95 cursor-pointer":"opacity-50 cursor-not-allowed"),children:[(0,s.jsx)("div",{className:"w-6 h-6 relative",children:(0,s.jsx)(i.default,{src:"/header/pin.svg",alt:a.map,fill:!0,className:"object-contain"})}),(0,s.jsx)("span",{className:"text-[10px] text-zinc-900",children:a.map})]}),(0,s.jsx)("div",{className:"w-8 h-8 relative",children:void 0===f?null:f?(0,s.jsxs)("div",{ref:N,className:"relative w-full h-full",children:[(0,s.jsx)("div",{onClick:()=>b(e=>!e),className:"w-full h-full rounded-full overflow-hidden cursor-pointer relative border border-gray-200",children:(0,s.jsx)(i.default,{src:null!=p?p:"/setting.svg",alt:"avatar",fill:!0,className:"object-cover",sizes:"40px",unoptimized:!0})}),_&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow-lg z-50 w-32",children:[(0,s.jsx)(o(),{href:"/mypage",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"マイページ"}),(0,s.jsx)(o(),{href:"/logout",className:"block px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"ログアウト"})]})]}):(0,s.jsx)(o(),{href:"/login",className:"text-sm text-blue-600 hover:underline",children:"ログイン"})})]})]})})]})}},8856:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(5155),l=a(2108),r=a(2115),i=a(3168),n=a(8544),o=a(7864),d=a(5922),c=a(5695),u=a(6766);function m(e){let{name:t,instagram:a,avatarUrl:l,onChange:r,onSubmit:i,onCancel:n,onImageUpload:o,nameError:d,postCount:c,receivedLikeCount:m,storeFollowCount:x}=e;return(0,s.jsxs)("div",{className:"space-y-6 max-w-md mx-auto mb-12",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold mb-2",children:"アイコン"}),l&&(0,s.jsx)("div",{className:"relative w-24 h-24 mb-2",children:(0,s.jsx)(u.default,{src:l,alt:"Avatar",fill:!0,className:"rounded-full object-cover",sizes:"96px",unoptimized:!0})}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];a&&o(a)}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold mb-1",children:"名前"}),(0,s.jsx)("input",{type:"text",value:t,onChange:e=>r("name",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2"}),d&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold mb-1",children:"Instagram"}),(0,s.jsx)("input",{type:"text",value:a,onChange:e=>r("instagram",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 flex gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:c})," 投稿"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:m})," もらったいいね"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:x})," フォロー中の店舗"]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:i,className:"flex-1 bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"保存する"}),(0,s.jsx)("button",{onClick:n,className:"flex-1 border border-gray-400 text-gray-600 py-2 rounded hover:bg-gray-100",children:"キャンセル"})]})]})}var x=a(6874),h=a.n(x);function v(e){let{stores:t,title:a="フォロー中の店舗"}=e;return t&&0!==t.length?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h2",{className:"text-md font-semibold",children:a}),(0,s.jsx)("ul",{className:"space-y-1",children:t.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(h(),{href:"/stores/".concat(e.id),className:"block text-blue-600 hover:underline",children:e.name})},e.id))})]}):(0,s.jsxs)("p",{className:"text-gray-500 text-sm",children:[a,"はまだありません。"]})}var p=a(6587);function g(e){let{myPosts:t,likedPosts:a,currentUserId:l,onLike:i,onEdit:n,onDelete:o}=e,[d,c]=(0,r.useState)("my"),u="my"===d?t:a,m="my"===d;return(0,s.jsxs)("section",{className:"md:col-span-2",children:[(0,s.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,s.jsx)("button",{onClick:()=>c("my"),className:"px-4 py-2 rounded ".concat("my"===d?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"),children:"自分の投稿"}),(0,s.jsx)("button",{onClick:()=>c("liked"),className:"px-4 py-2 rounded ".concat("liked"===d?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"),children:"いいねした投稿"})]}),u.length>0?(0,s.jsx)("ul",{className:"space-y-4",children:u.map(e=>(0,s.jsx)(p.A,{post:e,currentUserId:l,onLike:()=>i(e.id,"liked"===d),onEdit:m?()=>n(e):void 0,onDelete:m?()=>o(e.id):void 0},e.id))}):(0,s.jsx)("p",{className:"text-gray-600",children:"my"===d?"投稿はありません。":"いいねした投稿はありません。"})]})}let f=["bg-blue-500","bg-red-500","bg-green-600","bg-yellow-500","bg-purple-500","bg-pink-500"];function j(e){let{name:t="？",size:a=96}=e,l=t.charAt(0).toUpperCase(),r=f[t.charCodeAt(0)%f.length];return(0,s.jsx)("div",{className:"flex items-center justify-center text-white font-bold rounded-full ".concat(r),style:{width:a,height:a,fontSize:a/2},children:l})}function _(e){let{name:t,instagram:a,avatarUrl:l,postCount:r,receivedLikeCount:i,storeFollowCount:n,onEditClick:o,onWithdrawClick:d,onChangePasswordClick:c}=e,m=l&&"/setting.svg"!==l;return(0,s.jsxs)("div",{className:"space-y-6 max-w-md mx-auto mb-12",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold mb-2",children:"アイコン"}),(0,s.jsx)("div",{className:"relative w-24 h-24 mb-2",children:m?(0,s.jsx)(u.default,{src:l,alt:"Avatar",fill:!0,sizes:"96px",className:"rounded-full object-cover",unoptimized:!0}):(0,s.jsx)(j,{name:t,size:96})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold mb-1",children:"名前"}),(0,s.jsx)("p",{children:t||"（未設定）"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold mb-1",children:"Instagram"}),(0,s.jsx)("p",{children:a?(0,s.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:a}):"（未設定）"})]}),(0,s.jsxs)("div",{className:"mb-6 text-sm text-gray-700 flex gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:r})," 投稿"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:i})," もらったいいね"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:n})," フォロー中の店舗"]})]}),(0,s.jsx)("button",{onClick:o,className:"w-full bg-gray-800 text-white py-2 rounded hover:bg-gray-900",children:"編集する"}),(0,s.jsx)("div",{className:"text-right mt-2",children:(0,s.jsx)("button",{onClick:d,className:"text-sm text-red-500 underline hover:text-red-600",children:"退会はこちら"})}),c&&(0,s.jsx)("div",{className:"text-right mt-2",children:(0,s.jsx)("button",{onClick:c,className:"text-sm text-blue-600 underline hover:text-blue-800",children:"パスワードを変更"})})]})}function b(){var e;let{data:t}=(0,l.useSession)(),a=(0,c.useRouter)(),[u,x]=(0,r.useState)(null),[h,p]=(0,r.useState)(""),[f,j]=(0,r.useState)(""),[b,N]=(0,r.useState)(null),[y,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)([]),[S,z]=(0,r.useState)([]),[E,A]=(0,r.useState)([]),[q,I]=(0,r.useState)(null),[U,P]=(0,r.useState)(""),[F,L]=(0,r.useState)(0),[T,W]=(0,r.useState)(0),[D,O]=(0,r.useState)([]),[R,V]=(0,r.useState)([]),[H,Z]=(0,r.useState)([]),[B,G]=(0,r.useState)(!1),J=async function(e){var t,a;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!u)return alert("ログインしてください");(null==(a=(s?S:k).find(t=>t.id===e))||null==(t=a.post_likes)?void 0:t.some(e=>e.user_id===u.id))?await i.N.from("post_likes").delete().eq("post_id",e).eq("user_id",u.id):await i.N.from("post_likes").insert({post_id:e,user_id:u.id}),s?await $(u.id):await X(u.id)},K=async()=>{if(!(null==u?void 0:u.id))return void alert("ユーザー情報が取得できません");if(!h.trim())return void P("名前を入力してください");let e={id:u.id,name:h,instagram:f,avatar_url:b,updated_at:new Date().toISOString()},{error:t}=await i.N.from("user_profiles").upsert(e);t?(alert("プロフィールの更新に失敗しました"),console.error(t)):(alert("プロフィールを更新しました"),w(!1))},M=async e=>{if(!u)return;let t=e.name.split(".").pop(),a="".concat(Date.now(),".").concat(t),s="".concat(u.id,"/").concat(a),{data:l,error:r}=await i.N.storage.from("avatars").upload(s,e,{upsert:!0});if(r||!l){console.error("Upload error:",r),alert("画像のアップロードに失敗しました");return}let{data:{publicUrl:n}}=i.N.storage.from("avatars").getPublicUrl(s);N(n)},Q=(0,r.useCallback)(e=>{var t,a,s,l,r,i,n;return{id:e.id,body:e.body,created_at:e.created_at,image_url:null!=(a=e.image_url)?a:null,user_id:e.user_id,store:Array.isArray(e.store)?e.store[0]:null!=(s=e.store)?s:void 0,post_likes:null!=(l=e.post_likes)?l:[],user:(null==(t=e.user_profiles)?void 0:t.id)?{id:e.user_profiles.id,name:null!=(r=e.user_profiles.name)?r:"匿名",avatar_url:null!=(i=e.user_profiles.avatar_url)?i:"/setting.svg"}:{id:e.user_id,name:"匿名",avatar_url:"/setting.svg"},post_tag_values:(null!=(n=e.post_tag_values)?n:[]).filter(e=>{var t;return null==(t=e.tag_value)?void 0:t.tag_category}).map(e=>{var t,a,s,l,r,i,n,o,d,c;return{id:String(null!=(n=null==(t=e.tag_value)?void 0:t.id)?n:""),value:String(null!=(o=null==(a=e.tag_value)?void 0:a.name_ja)?o:""),tag_category:{id:null!=(d=null==(l=e.tag_value)||null==(s=l.tag_category)?void 0:s.id)?d:"",label:null!=(c=null==(i=e.tag_value)||null==(r=i.tag_category)?void 0:r.name_ja)?c:""}}})}},[]),X=(0,r.useCallback)(async e=>{let{data:t,error:a}=await i.N.from("posts").select("\n        id,\n        body,\n        created_at,\n        image_url,\n        user_id,\n        store:stores(id, name),\n        user:user_profiles(id, name, avatar_url),\n        post_likes(user_id),\n        post_tag_values(\n          tag_value:review_tag_values(\n            id,\n            name_ja,\n            tag_category:review_tag_categories(id, name_ja)\n          )\n        )\n      ").eq("user_id",e).eq("is_active",!0).order("created_at",{ascending:!1});if(a)return void console.error("投稿取得エラー:",a.message);if(t){let e=t.map(Q);C(e),L(e.length)}},[Q]),Y=async e=>{if(!confirm("この投稿を削除しますか？"))return;let{error:t}=await i.N.from("posts").delete().eq("id",e);t?(alert("削除に失敗しました"),console.error(t)):(alert("削除しました"),await X((null==u?void 0:u.id)||""))},$=(0,r.useCallback)(async e=>{let{data:t,error:a}=await i.N.from("post_likes").select("post_id").eq("user_id",e);if(a)return void console.error("❌ likes fetch error",a);if(0===((null==t?void 0:t.map(e=>e.post_id))||[]).length)return void z([]);let{data:s,error:l}=await i.N.from("posts").select("\n        id, body, created_at, user_id, image_url,\n        store:stores!posts_store_id_fkey(id, name),\n        post_likes(user_id),\n        user_profiles(id, name, avatar_url),\n        post_tag_values(\n          tag_value:review_tag_values(\n            id,\n            name_ja,\n            tag_category:review_tag_categories(id, name_ja)\n          )\n        )\n      ");if(l)return void console.error("likedPosts error:",l.message);z(s.map(Q))},[Q]),ee=async e=>{let{data:t}=await i.N.from("store_follows").select("store:stores(id, name)").eq("user_id",e);A((null!=t?t:[]).map(e=>Array.isArray(e.store)?e.store[0]:e.store).filter(e=>!!e))},et=async()=>{let{data:e}=await i.N.from("stores").select("*");e&&O(e)},ea=async()=>{let{data:e}=await i.N.from("review_tag_categories").select("*");e&&V(e)},es=async()=>{let{data:e}=await i.N.from("review_tag_values").select("*");e&&Z(e.filter(e=>null!==e.name_ja&&void 0!==e.name_ja))},el=async e=>{var t,a;let{data:s}=await i.N.from("posts").select("id").eq("user_id",e).eq("is_active",!0),l=null!=(t=null==s?void 0:s.map(e=>e.id))?t:[],{data:r}=await i.N.from("post_likes").select("*").in("post_id",l);W(null!=(a=null==r?void 0:r.length)?a:0)};return(0,r.useEffect)(()=>{(async()=>{var e,a,s,l,r,n,o,d,c,u,m,h;let{data:v}=await i.N.auth.getUser(),g=null==v?void 0:v.user,f=null==t?void 0:t.user,_=null!=(l=null!=(s=null==g?void 0:g.id)?s:null==f?void 0:f.id)?l:"",b=null!=g?g:{id:_,aud:"authenticated",role:"authenticated",email:null!=(r=null==f?void 0:f.email)?r:"",user_metadata:{name:null!=(n=null==f?void 0:f.name)?n:"",avatar_url:null!=(o=null==f?void 0:f.image)?o:""},app_metadata:{provider:"line"},created_at:""};x(b);let{data:y}=await i.N.from("user_profiles").select("*").eq("id",_).single();p(null!=(c=null!=(d=null==y?void 0:y.name)?d:null==(e=b.user_metadata)?void 0:e.name)?c:""),j(null!=(u=null==y?void 0:y.instagram)?u:""),N(null!=(h=null!=(m=null==y?void 0:y.avatar_url)?m:null==(a=b.user_metadata)?void 0:a.avatar_url)?h:null),await Promise.all([X(_),$(_),el(_),et(),ea(),es(),ee(_)]),G(!0)})()},[t,X,$]),(0,s.jsxs)("div",{className:"min-h-screen bg-[#FEFCF6]",children:[(0,s.jsx)(o.default,{locale:"ja",messages:{search:"検索",map:"地図"}}),(0,s.jsxs)("main",{className:"px-4 py-8 pt-[80px] max-w-3xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-xl font-bold mb-6",children:"マイページ"}),y?(0,s.jsx)(m,{name:h,instagram:f,avatarUrl:b,onChange:(e,t)=>{"name"===e&&p(t),"instagram"===e&&j(t)},onSubmit:K,onCancel:()=>w(!1),onImageUpload:M,nameError:U,postCount:F,receivedLikeCount:T,storeFollowCount:E.length}):(0,s.jsx)(_,{name:h,instagram:f,avatarUrl:b,postCount:F,receivedLikeCount:T,storeFollowCount:E.length,onEditClick:()=>w(!0),onWithdrawClick:()=>a.push("/withdrawal"),onChangePasswordClick:(null==u||null==(e=u.app_metadata)?void 0:e.provider)==="email"?()=>a.push("/account-settings"):void 0}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-10",children:[(0,s.jsx)(v,{stores:E}),(0,s.jsx)(g,{myPosts:k,likedPosts:S,currentUserId:null==u?void 0:u.id,onLike:J,onEdit:I,onDelete:Y}),q&&B&&(0,s.jsx)(n.A,{post:q,stores:D,tagCategories:R,tagValues:H,onClose:()=>I(null),onUpdated:async()=>{await X((null==u?void 0:u.id)||""),I(null)}})]})]}),(0,s.jsx)(d.default,{locale:"ja",messages:{search:"検索",map:"地図",contact:"お問い合わせ",terms:"利用規約",privacy:"プライバシー",copyright:"\xa9 2025 Otonavi"}})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[851,4212,6874,5561,2108,1430,8441,1684,7358],()=>t(4906)),_N_E=e.O()}]);