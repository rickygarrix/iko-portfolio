(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2154],{836:(e,t,s)=>{Promise.resolve().then(s.bind(s,7873))},2049:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});let a=(0,s(5453).v)(e=>({contact:{category:"",email:"",name:"",subject:"",message:""},setContact:t=>e({contact:t}),resetContact:()=>e({contact:{email:"",name:"",subject:"",message:""}})}))},3168:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});let a=(0,s(851).UU)("https://bqexmwjcmtyypzucndrb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxZXhtd2pjbXR5eXB6dWNuZHJiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA2MjA5NjQsImV4cCI6MjA1NjE5Njk2NH0.LgmwOIcW4UsTqwigP7BgXBrQmtSah362_dsWqjecTQQ")},5453:(e,t,s)=>{"use strict";s.d(t,{v:()=>l});var a=s(2115);let r=e=>{let t,s=new Set,a=(e,a)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=a?a:"object"!=typeof r||null===r)?r:Object.assign({},t,r),s.forEach(s=>s(t,e))}},r=()=>t,n={setState:a,getState:r,getInitialState:()=>c,subscribe:e=>(s.add(e),()=>s.delete(e))},c=t=e(a,r,n);return n},n=e=>e?r(e):r,c=e=>e,i=e=>{let t=n(e),s=e=>(function(e,t=c){let s=a.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return a.useDebugValue(s),s})(t,e);return Object.assign(s,t),s},l=e=>e?i(e):i},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"notFound")&&s.d(t,{notFound:function(){return a.notFound}}),s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},7873:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(5155),r=s(2049),n=s(3168),c=s(5695),i=s(2115);function l(){let e=(0,c.useRouter)(),t=(0,r.p)(e=>e.contact),s=(0,r.p)(e=>e.resetContact),[l,u]=(0,i.useState)(""),[d,o]=(0,i.useState)(!1),m=async()=>{o(!0);let{error:a}=await n.N.from("contacts").insert([{email:t.email,name:t.name,subject:t.subject,message:t.message}]);if(a){console.error("送信エラー:",a),u("送信に失敗しました。時間を置いて再度お試しください。"),o(!1);return}(await fetch("/api/send-contact-mail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok||(console.error("メール送信失敗"),u("メール送信に失敗しましたが、内容は受け付けました。")),s(),e.push("/contact/thanks")};return(0,a.jsxs)("div",{className:"min-h-screen bg-[#FEFCF6] flex items-center justify-center p-6 relative",children:[(0,a.jsxs)("div",{className:"max-w-2xl w-full bg-white shadow-md rounded-lg p-8 text-gray-800",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"内容確認"}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"メールアドレス"}),(0,a.jsx)("p",{className:"text-lg",children:t.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"お名前"}),(0,a.jsx)("p",{className:"text-lg",children:t.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"件名"}),(0,a.jsx)("p",{className:"text-lg",children:t.subject||"(なし)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"お問い合わせ内容詳細"}),(0,a.jsx)("p",{className:"text-lg whitespace-pre-wrap",children:t.message})]})]}),l&&(0,a.jsx)("div",{className:"text-red-500 text-sm font-semibold mb-4 text-center",children:l}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("button",{onClick:m,className:"w-full bg-[#1F1F21] text-white rounded p-3 hover:bg-[#333]",disabled:d,children:"送信する"}),(0,a.jsx)("button",{onClick:()=>{e.back()},className:"w-full border border-gray-400 text-gray-700 rounded p-3 hover:bg-gray-100",disabled:d,children:"修正する"})]})]}),d&&(0,a.jsx)("div",{className:"fixed inset-0 bg-white/80 z-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-gray-700 text-lg animate-pulse",children:"送信中..."})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[851,8441,1684,7358],()=>t(836)),_N_E=e.O()}]);